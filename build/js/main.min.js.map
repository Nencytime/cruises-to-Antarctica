{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/catalog.js","source/js/form-validate.js","source/js/main.js","source/js/map.js","source/js/menu.js","source/js/scroll.js"],"names":[],"mappings":"AAAA;;;;;;;ACAA,IAAM,IAAI,GAAG,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,CAAC;AAExD,IAAM,SAAS,GAAG,SAAZ,SAAS,CAAA,EAAS;EACtB,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;IAC3B,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;MACzC,SAAS,EAAE;MACX,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC;MAC5C,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE;IAC7C,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAAC,OAAA,CAAA,SAAA,GAAA,SAAA;AAEF,IAAM,SAAS,GAAG,SAAZ,SAAS,CAAA,EAAS;EACtB,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;IAC3B,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,wBAAwB,CAAC,EAAE;MACrD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,wBAAwB,CAAC;IACjD;EACF,CAAC,CAAC;AACJ,CAAC;;;;;;;;;AClBD,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC;AAElD,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC;AACjD,IAAI,KAAK,GAAG,QAAQ;AAEpB,IAAI,CAAC,OAAO,GAAG,YAAM;EACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AAC5C,CAAC;AAED,IAAM,aAAa,GAAG,SAAhB,aAAa,CAAA,EAAS;EAC1B,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC;EACnD,KAAK,CAAC,UAAU,GAAG,UAAC,KAAK,EAAK;IAC5B,KAAK,GAAG,KAAK,IAAI,MAAM,CAAC,KAAK;IAC7B,IAAI,KAAK,CAAC,QAAQ,KAAK,KAAK,CAAC,QAAQ,GAAG,EAAE,IAAI,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE;MAClE,IAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC;MAE9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACtC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;MACpB;MAEA,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;MAC3C,KAAK,CAAC,SAAS,GAAG,OAAO;MACzB,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK;MACzB,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,SAAS;MACvC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK;MAC3B,KAAK,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM;MACjC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,aAAa;MACjC,KAAK,CAAC,SAAS,GAAG,oCAAoC;MACtD,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC;MAC9C,OAAO,KAAK;IACd;IAEA,IAAI,KAAK,CAAC,QAAQ,KAAK,KAAK,CAAC,QAAQ,GAAG,EAAE,IAAI,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE;MAClE,IAAM,MAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;MAC9C,MAAK,CAAC,MAAM,EAAE;IAChB;IAEA,OAAO,KAAK;EACd,CAAC;AACH,CAAC;AAAC,OAAA,CAAA,aAAA,GAAA,aAAA;;;;;ACvCF,IAAA,IAAA,GAAA,OAAA;AACA,IAAA,OAAA,GAAA,OAAA;AACA,IAAA,KAAA,GAAA,OAAA;AACA,IAAA,aAAA,GAAA,OAAA;AACA,IAAA,QAAA,GAAA,OAAA;AAEA;AAEA;AAEA,MAAM,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAChD,IAAA,cAAS,GAAE;EACX,IAAA,cAAM,GAAE;EAER,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAM;IACpC,IAAA,iBAAW,GAAE;IACb,IAAA,2BAAa,GAAE;IACf,IAAA,kBAAS,GAAE;EACb,CAAC,CAAC;AACJ,CAAC,CAAC;;;;;;;;;ACnBF,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK;AAE1B,IAAM,SAAS,GAAG,SAAZ,SAAS,CAAA,EAAS;EACtB,KAAK,CAAC,KAAK,CAAC,YAAY;IACtB,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE;MACjC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;MAC9B,IAAI,EAAE;IACR,CAAC,EAAE;MACD,qBAAqB,EAAE;IACzB,CAAC,CAAC;IAEF,IAAM,WAAW,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,kBAAkB,EAAE,iBAAiB,CAAC,EAAE,CAAC,CAAC,EAAE;MACnF,UAAU,EAAE,eAAe;MAC3B,aAAa,EAAE,0BAA0B;MACzC,aAAa,EAAE,CAAC,EAAE,EAAE,EAAE;MACtB;IACF,CAAC,CAAC;;IAEF,KAAK,CAAC,UAAU,CACX,GAAG,CAAC,WAAW,CAAC;EACvB,CAAC,CAAC;AACJ,CAAC;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA,OAAA,CAAA,SAAA,GAAA,SAAA;;;;;;;;;;;;;;;ACrCA,IAAM,qBAAqB,GAAG,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,CAAC;AAChF,IAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,qBAAqB,CAAC;AAChE,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC;AAC7D,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC;AAAC,IAE3C,UAAU;EACd,SAAA,WAAY,GAAG,EAAE,IAAI,EAAE;IAAA,eAAA,OAAA,UAAA;IACrB,IAAI,CAAC,GAAG,GAAG,GAAG;IACd,IAAI,CAAC,IAAI,GAAG,IAAI;IAChB,IAAI,CAAC,uBAAuB,GAAG,EAAE;IACjC,IAAI,CAAC,iBAAiB,GAAG,EAAE;EAC7B;EAAC,YAAA,CAAA,UAAA;IAAA,GAAA;IAAA,KAAA,EAED,SAAA,OAAA,EAAS;MACP,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;MAC1E,IAAI,OAAO;MACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACxC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;UAChC,IAAI,OAAO,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE;YAC7C,OAAO,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;YACtC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,OAAO,CAAC;UAC5C;QACF;MACF;;MAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE;EAAC;IAAA,GAAA;IAAA,KAAA,EAED,SAAA,OAAA,EAAS;MACP,IAAI,OAAO;MACX,OAAO,IAAI,CAAC,uBAAuB,CAAC,MAAM,KAAK,CAAC,EAAE;QAChD,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAAE;QAC5C,OAAO,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;MACvC;MAEA,OAAO,IAAI,CAAC,uBAAuB,CAAC,MAAM,KAAK,CAAC,EAAE;QAChD,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAAE;QAC5C,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC;MAC9C;IACF;EAAC;EAAA,OAAA,UAAA;AAAA;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAM,IAAI,GAAG,IAAI,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC;AAE7C,IAAM,WAAW,GAAG,SAAd,WAAW,CAAA,EAAS;EACxB,IAAM,SAAS,GAAG,SAAZ,SAAS,CAAI,KAAK,EAAK;IAC3B,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM;IAE3B,IAAI,MAAM,KAAK,MAAM,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,IAAI,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE;MACvF,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC;MAClC,IAAI,CAAC,MAAM,EAAE;MACb,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC;IAC/C;IACA,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC;EACpD,CAAC;EAED,IAAM,QAAQ,GAAG,SAAX,QAAQ,CAAA,EAAS;IACrB,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC;IAChC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC;IAClC,IAAI,CAAC,MAAM,EAAE;IACb,IAAI,CAAC,KAAK,EAAE;IACZ,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC;IAC7C,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,SAAS,CAAC;EACjD,CAAC;EAED,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC;EAC9C,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,SAAS,CAAC;AAC7C,CAAC;AAAC,OAAA,CAAA,WAAA,GAAA,WAAA;;;;;;;;;ACzGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAM,MAAM,GAAG,SAAT,MAAM,CAAA,EAAS;EACnB,QAAQ,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAC,IAAI,EAAK;IACzD,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;MAC1C,CAAC,CAAC,cAAc,EAAE;MAClB,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;MAEjD,IAAM,YAAY,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC;MAClD,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,YAAY;MAChE,IAAM,eAAe,GAAG,YAAY,CAAC,qBAAqB,EAAE,CAAC,GAAG;MAChE,IAAM,cAAc,GAAG,eAAe,GAAG,SAAS;MAElD,MAAM,CAAC,QAAQ,CAAC;QACd,GAAG,EAAE,cAAc;QACnB,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAAC,OAAA,CAAA,MAAA,GAAA,MAAA","file":"main.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","const card = document.querySelectorAll('.catalog__item');\n\nconst cardFocus = () => {\n  card.forEach(function (item) {\n    item.addEventListener('focus', function () {\n      closeCard();\n      item.classList.add('catalog__item--focused');\n      item.querySelector('.card__button').focus();\n    });\n  });\n};\n\nconst closeCard = () => {\n  card.forEach(function (item) {\n    if (item.classList.contains('catalog__item--focused')) {\n      item.classList.remove('catalog__item--focused');\n    }\n  });\n};\n\nexport {cardFocus};\n","const form = document.querySelector('.form__post');\n\nconst name = document.querySelector('#form-name');\nlet regex = /[0-9]/g;\n\nname.oninput = () => {\n  name.value = name.value.replace(regex, '');\n};\n\nconst phoneValidate = () => {\n  const phone = document.querySelector('#form-phone');\n  phone.onkeypress = (event) => {\n    event = event || window.event;\n    if (event.charCode && (event.charCode < 48 || event.charCode > 57)) {\n      const errors = form.querySelectorAll('.error');\n\n      for (let i = 0; i < errors.length; i++) {\n        errors[i].remove();\n      }\n\n      const error = document.createElement('div');\n      error.className = 'error';\n      error.style.color = 'red';\n      error.style.backgroundColor = '#F9FBFD';\n      error.style.padding = '5px';\n      error.style.marginBottom = '10px';\n      error.style.width = 'max-content';\n      error.innerHTML = 'Поле должно содержать только цифры';\n      phone.parentElement.insertBefore(error, phone);\n      return false;\n    }\n\n    if (event.charCode && (event.charCode > 48 || event.charCode < 57)) {\n      const error = document.querySelector('.error');\n      error.remove();\n    }\n\n    return false;\n  };\n};\n\nexport {phoneValidate};\n","import {createMap} from './map.js';\nimport {scroll} from './scroll.js';\nimport {menuControl} from './menu.js';\nimport {phoneValidate} from './form-validate.js';\nimport {cardFocus} from './catalog.js';\n\n// import './map.js';\n\n// ---------------------------------\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  createMap();\n  scroll();\n\n  window.addEventListener('load', () => {\n    menuControl();\n    phoneValidate();\n    cardFocus();\n  });\n});\n","const ymaps = window.ymaps;\n\nconst createMap = () => {\n  ymaps.ready(function () {\n    const myMap = new ymaps.Map('map', {\n      center: [59.938631, 30.323037],\n      zoom: 16,\n    }, {\n      searchControlProvider: 'yandex#search',\n    });\n\n    const myPlacemark = new ymaps.Placemark([59.937640428077046, 30.32269367724605], {}, {\n      iconLayout: 'default#image',\n      iconImageHref: './img/sprite/map-pin.svg',\n      iconImageSize: [18, 22],\n      // iconImageOffset: [18, 22],\n    });\n\n    myMap.geoObjects\n        .add(myPlacemark);\n  });\n};\n\nexport {createMap};\n\n/* const yandexMapsScript = document.createElement('script');\nconst key = '6b492866-f739-4d69-9dbc-9ff50d70ea08';\n\nyandexMapsScript.src = `https://api-maps.yandex.ru/2.1/?apikey=${key}&lang=ru_RU`;\n\ndocument.body.appendChild(yandexMapsScript);\n\nyandexMapsScript.addEventListener('load', function () {\n  window.dispatchEvent(new Event('mapWasLoaded'));\n}); */\n\n\n/* const createMap = () => {\n  let myMap = new window.ymaps.Map('map', {\n    center: [59.938635, 30.323118],\n    zoom: 15,\n  }, {\n    searchControlProvider: 'yandex#search',\n  });\n\n  const myPlacemark = new window.ymaps.Placemark([59.938635, 30.323118], {\n    hintContent: 'Круизы в Антарктику',\n  }, {\n    iconLayout: 'default#image',\n    iconImageHref: './img/sprite/map-pin.svg',\n    iconImageSize: [18, 22],\n    iconImageOffset: [-9, -22],\n  });\n\n  myMap.geoObjects\n      .add(myPlacemark);\n};\n\nexport {createMap};\n */\n","const INTERECTIVE_SELECTORS = ['a', 'button', 'input', 'textarea', '[tabindex]'];\nconst openButton = document.querySelector('.navigation__toggle');\nconst logo = document.querySelector('.navigation__logo-link');\nconst header = document.querySelector('.header');\n\nclass MenuWindow {\n  constructor(doc, menu) {\n    this.doc = doc;\n    this.menu = menu;\n    this.interactiveElementsList = [];\n    this.blockElementsList = [];\n  }\n\n  create() {\n    let elements = this.doc.querySelectorAll(INTERECTIVE_SELECTORS.toString());\n    let element;\n    for (let i = 0; i < elements.length; i++) {\n      element = elements[i];\n      if (!this.menu.contains(element)) {\n        if (element.getAttribute('tabindex') !== '-1') {\n          element.setAttribute('tabindex', '-1');\n          this.interactiveElementsList.push(element);\n        }\n      }\n    }\n\n    /* let children = this.doc.header.children;\n    for (let i = 0; i < children.length; i++) {\n      element = children[i];\n      if (!this.menu.contains(element)) {\n        if (element.getAttribute('aria-hidden') !== 'true') {\n          element.setAttribute('aria-hidden', 'true');\n          this.blockElementsList.push(element);\n        }\n      }\n    } */\n  }\n\n  remove() {\n    let element;\n    while (this.interactiveElementsList.length !== 0) {\n      element = this.interactiveElementsList.pop();\n      element.setAttribute('tabindex', '0');\n    }\n\n    while (this.interactiveElementsList.length !== 0) {\n      element = this.interactiveElementsList.pop();\n      element.setAttribute('aria-gidden', 'false');\n    }\n  }\n}\n\n/* const showPrompt = () => {\n  const form = document.querySelector('.navigation');\n  const container = document.querySelector('.header');\n  const lastElem = form.elements[form.elements.length - 1];\n  const firstElem = form.elements[0];\n\n  lastElem = (e) => {\n    if (e.key === 'Tab' && !e.shiftKey) {\n      firstElem.focus();\n      return false;\n    }\n    return false;\n  };\n\n  firstElem = (e) => {\n    if (e.key === 'Tab' && e.shiftKey) {\n      lastElem.focus();\n      return;\n    }\n  };\n\n  container.style.display = 'block';\n};\n\nopenButton.onclick = () => {\n  showPrompt();\n}; */\n\nconst menu = new MenuWindow(document, header);\n\nconst menuControl = () => {\n  const closeMenu = (event) => {\n    const target = event.target;\n\n    if (target === header || event.code === 'Escape' || target.closest('.navigation__link')) {\n      header.classList.remove('is-open');\n      menu.remove();\n      document.body.classList.remove('scroll-lock');\n    }\n    document.removeEventListener('keydown', closeMenu);\n  };\n\n  const openMenu = () => {\n    header.classList.remove('no-js');\n    header.classList.toggle('is-open');\n    menu.create();\n    logo.focus();\n    document.body.classList.toggle('scroll-lock');\n    document.addEventListener('keydown', closeMenu);\n  };\n\n  openButton.addEventListener('click', openMenu);\n  header.addEventListener('click', closeMenu);\n};\n\nexport {menuControl};\n","/* const anchors = document.querySelectorAll('a[href*=\"#\"]');\n\nconst scroll = () => {\n  for (let anchor of anchors) {\n    anchor.addEventListener('click', function (e) {\n      e.preventDefault();\n\n      const blockID = anchor.getAttribute('href').substr(1);\n\n      document.getElementById(blockID).scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    });\n  }\n};\n */\n\nconst scroll = () => {\n  document.querySelectorAll('a[href^=\"#\"').forEach((link) => {\n    link.addEventListener('click', function (e) {\n      e.preventDefault();\n      let href = link.getAttribute('href').substring(1);\n\n      const scrollTarget = document.getElementById(href);\n      const topOffset = document.querySelector('.header').offsetHeight;\n      const elementPosition = scrollTarget.getBoundingClientRect().top;\n      const offsetPosition = elementPosition - topOffset;\n\n      window.scrollBy({\n        top: offsetPosition,\n        behavior: 'smooth',\n      });\n    });\n  });\n};\n\nexport {scroll};\n"]}